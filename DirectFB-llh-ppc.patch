--- DirectFB-0.9.24/lib/direct/ppcasm_memcpy_cachable.S.orig	2004-05-05 17:54:30.000000000 +0000
+++ DirectFB-0.9.24/lib/direct/ppcasm_memcpy_cachable.S	2006-01-26 21:56:40.000000000 +0000
@@ -11,18 +11,8 @@
 
 #define __ASSEMBLY__
 
-#include <linux/config.h>
-
-#if defined(CONFIG_8xx) || defined(CONFIG_403GCX)
-#define L1_CACHE_LINE_SIZE       16
-#define LG_L1_CACHE_LINE_SIZE     4 
-#elif defined(CONFIG_PPC64BRIDGE) 
-#define L1_CACHE_LINE_SIZE      128
-#define LG_L1_CACHE_LINE_SIZE     7  
-#else
 #define L1_CACHE_LINE_SIZE       32
 #define LG_L1_CACHE_LINE_SIZE     5
-#endif
 
 #include "ppc_asm.h"
 
@@ -119,9 +109,7 @@
 	mtctr	r0
 	beq	63f
 53:
-#if !defined(CONFIG_8xx)
 	dcbz	r11,r6
-#endif
 	COPY_16_BYTES
 #if L1_CACHE_LINE_SIZE >= 32
 	COPY_16_BYTES
